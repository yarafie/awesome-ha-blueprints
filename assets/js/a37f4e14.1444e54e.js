"use strict";(globalThis.webpackChunkawesome_ha_library_website=globalThis.webpackChunkawesome_ha_library_website||[]).push([[898],{12897(t,e,r){r.r(e),r.d(e,{default:()=>D});var o=r(82128),a=r(36863),n=r(4037),l=r(32775),i=r(1188),s=r(17203),d=r(6588),c=r(19285),p=r(27428),x=r(97138),g=r(39332),u=r(2295),y=r(15068),h=r(76205),b=r(67869),m=r(41929),f=r(41778),w=r(95556),_=r(4784);let j=null;const v=()=>{if(j)return j;const t=(_.default?.customFields||{}).env||{},e=t.SUPABASE_URL,r=t.SUPABASE_ANON_KEY;return e&&r&&S({supabaseUrl:e,supabaseKey:r}),j},S=({supabaseUrl:t,supabaseKey:e})=>{j=(0,w.UU)(t,e),console.log("Supabase initialized")};var C=r(77900);const k=t=>Number.isFinite(t)?t.toLocaleString():"0",A=t=>{if(!t)return"N/A";try{return new Date(t).toLocaleDateString(void 0,{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},L=(t,e)=>{const r=new Map;t.forEach(t=>{r.set(t.day,Number(t.total??0))});const o=[],a=new Date,n=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()));for(let l=e-1;l>=0;l--){const t=new Date(n);t.setUTCDate(n.getUTCDate()-l);const e=t.toISOString().substring(0,10),a=r.get(e)??0;o.push({label:t.toLocaleDateString(void 0,{month:"short",day:"numeric",timeZone:"UTC"}),total:a})}return o},D=()=>{const[t,e]=(0,o.useState)({totalDownloads:0,byCategory:[],aggregates:[],daily:[]}),[r,w]=(0,o.useState)(!0),[_,j]=(0,o.useState)(!1),[S,D]=(0,o.useState)(void 0),[B,T]=(0,o.useState)(15),[P,z]=(0,o.useState)(10),[$,E]=(0,o.useState)("ALL"),[M,U]=(0,o.useState)("ALL"),[K,N]=(0,o.useState)({key:"total",direction:"desc"}),[W,R]=(0,o.useState)(!1),I=(0,m.A)(f.A),{totalDownloads:F,byCategory:O,aggregates:V,daily:Z}=t;(0,o.useEffect)(()=>{const t=()=>{const t=document.documentElement.getAttribute("data-theme");R("dark"===t)};t();const e=new MutationObserver(e=>{for(const r of e)"attributes"===r.type&&"data-theme"===r.attributeName&&t()});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>e.disconnect()},[]);const Y={bg:W?"#1b1b1d":"#f9fafb",cardBg:W?"#242526":"#ffffff",textPrimary:W?"#e5e7eb":"#1f2937",textSecondary:W?"#9ca3af":"#6b7280",gridLine:W?"#444":"#e5e7eb",tooltipBg:W?"#242526":"#ffffff",tooltipBorder:W?"#444":"#ccc",tooltipText:W?"#e5e7eb":"#333",accentColor:"#4f46e5"},H={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"32px",width:"100%"},G={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px",width:"100%"};if("undefined"!=typeof window){window.matchMedia("(max-width: 768px)").matches&&(H.gridTemplateColumns="1fr",G.gridTemplateColumns="1fr")}const q={backgroundColor:Y.cardBg,borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",overflow:"hidden",color:Y.textPrimary,minWidth:"0",border:W?"1px solid #333":"none"},Q=t=>({backgroundColor:t,color:"white",padding:"12px",fontWeight:"bold",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.05em"}),X={padding:"16px",borderBottom:`1px solid ${Y.gridLine}`,margin:0,fontSize:"1.25rem",color:Y.textPrimary,fontWeight:"bold"},J=({active:t,payload:e,label:r})=>{if(t&&e&&e.length){const t=e.find(t=>"Downloads"===t.dataKey||"total"===t.dataKey),o=t?.value??e[0]?.value??0,a=e[0]?.payload?.name??e[0]?.payload?.id??r??"Value";return(0,C.jsxs)("div",{style:{padding:"10px",backgroundColor:Y.tooltipBg,border:`1px solid ${Y.tooltipBorder}`,borderRadius:"5px",color:Y.tooltipText},children:[(0,C.jsx)("p",{style:{fontWeight:"bold",marginBottom:"5px"},children:a}),(0,C.jsxs)("p",{children:["Downloads: ",k(o)]})]})}return null},tt=t=>{const{x:e,y:r,payload:o}=t;return(0,C.jsx)("g",{transform:`translate(${e},${r})`,children:(0,C.jsx)("text",{x:0,y:0,dy:5,textAnchor:"end",fill:Y.textSecondary,fontSize:10,title:o.value,children:o.value})})},et=({current:t,onSelect:e,isDailyLoading:r})=>{const o=e=>({padding:"6px 12px",margin:"0 4px",borderRadius:"4px",cursor:r?"not-allowed":"pointer",fontWeight:"bold",backgroundColor:t===e?Y.accentColor:Y.cardBg,color:t===e?"white":Y.textPrimary,border:`1px solid ${t===e?Y.accentColor:Y.gridLine}`,transition:"all 0.2s",boxShadow:t===e?"0 2px 4px rgba(0,0,0,0.2)":"none",fontSize:"14px",opacity:r&&t!==e?.6:1});return(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px",paddingTop:"10px"},children:[1,7,15,30,90].map(t=>(0,C.jsxs)("button",{onClick:()=>e(t),style:o(t),disabled:r,children:[t,"D"]},t))})},rt=t=>{let e="desc";K.key===t&&"desc"===K.direction&&(e="asc"),N({key:t,direction:e})},ot=({sortKey:t})=>K.key!==t?(0,C.jsx)("span",{style:{fontSize:"0.7em",marginLeft:"5px",opacity:.4},dangerouslySetInnerHTML:{__html:"&#x25B2;&#x25BC;"}}):(0,C.jsx)("span",{style:{fontSize:"0.7em",marginLeft:"5px",color:Y.accentColor},dangerouslySetInnerHTML:{__html:"asc"===K.direction?"&#x25B2;":"&#x25BC;"}}),at=({data:t})=>(0,C.jsxs)("div",{style:{padding:"24px 16px 16px 16px"},children:[(0,C.jsx)("h3",{style:{fontSize:"1.25rem",color:Y.textPrimary,fontWeight:"bold",marginBottom:"15px",textAlign:"center"},children:"Table Data View (Top Results, limited by selection)"}),(0,C.jsx)("div",{style:{overflowX:"auto"},children:(0,C.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed",fontSize:"14px",margin:"0"},children:[(0,C.jsxs)("colgroup",{children:[(0,C.jsx)("col",{style:{width:"auto"}}),(0,C.jsx)("col",{style:{width:"1%",whiteSpace:"nowrap"}}),(0,C.jsx)("col",{style:{width:"1%",whiteSpace:"nowrap"}}),(0,C.jsx)("col",{style:{width:"1%",whiteSpace:"nowrap"}}),(0,C.jsx)("col",{style:{width:"1%",whiteSpace:"nowrap"}})]}),(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{style:{backgroundColor:W?"#333":"#f3f4f6"},children:[(0,C.jsxs)("th",{onClick:()=>rt("id"),style:{padding:"12px 8px",textAlign:"left",cursor:"pointer",color:Y.textPrimary,borderBottom:`2px solid ${Y.accentColor}`},children:["Blueprint ID ",(0,C.jsx)(ot,{sortKey:"id"})]}),(0,C.jsxs)("th",{onClick:()=>rt("category"),style:{padding:"12px 8px",textAlign:"left",cursor:"pointer",color:Y.textPrimary,borderBottom:`2px solid ${Y.accentColor}`,whiteSpace:"nowrap"},children:["Category ",(0,C.jsx)(ot,{sortKey:"category"})]}),(0,C.jsxs)("th",{onClick:()=>rt("variant"),style:{padding:"12px 8px",textAlign:"left",cursor:"pointer",color:Y.textPrimary,borderBottom:`2px solid ${Y.accentColor}`,whiteSpace:"nowrap"},children:["Variant ",(0,C.jsx)(ot,{sortKey:"variant"})]}),(0,C.jsxs)("th",{onClick:()=>rt("total"),style:{padding:"12px 8px",textAlign:"center",cursor:"pointer",color:Y.textPrimary,borderBottom:`2px solid ${Y.accentColor}`,whiteSpace:"nowrap"},children:["Downloads ",(0,C.jsx)(ot,{sortKey:"total"})]}),(0,C.jsxs)("th",{onClick:()=>rt("lastDownloaded"),style:{padding:"12px 8px",textAlign:"right",cursor:"pointer",color:Y.textPrimary,borderBottom:`2px solid ${Y.accentColor}`,whiteSpace:"nowrap"},children:["Last Downloaded ",(0,C.jsx)(ot,{sortKey:"lastDownloaded"})]})]})}),(0,C.jsx)("tbody",{children:t.map((t,e)=>(0,C.jsxs)("tr",{style:{borderBottom:`1px solid ${Y.gridLine}`,backgroundColor:e%2==0?Y.cardBg:W?"#2d2d2f":"#fcfcfc"},children:[(0,C.jsx)("td",{style:{padding:"10px 8px",wordBreak:"break-word",color:Y.textPrimary,textAlign:"left"},children:t.blueprint_id}),(0,C.jsx)("td",{style:{padding:"10px 8px",color:I(t.blueprint_category),textAlign:"left",whiteSpace:"nowrap"},children:t.blueprint_category}),(0,C.jsx)("td",{style:{padding:"10px 8px",textAlign:"left",color:Y.textPrimary,whiteSpace:"nowrap"},children:"controllers"===t.blueprint_category?t.blueprint_variant??"All Variants":"\u2014"}),(0,C.jsx)("td",{style:{padding:"10px 8px",textAlign:"center",fontWeight:"bold",color:Y.textPrimary,whiteSpace:"nowrap"},children:k(t.total)}),(0,C.jsx)("td",{style:{padding:"10px 8px",textAlign:"right",color:Y.textPrimary,whiteSpace:"nowrap"},children:A(t.last_downloaded)})]},`${t.blueprint_category}:${t.blueprint_id}:${t.blueprint_variant??"ALL"}`))})]})}),0===t.length&&(0,C.jsx)("p",{style:{textAlign:"center",padding:"20px",color:Y.textSecondary},children:"No detailed data found for the current selection."})]}),nt=(0,o.useMemo)(()=>{const t=new Set;return V.forEach(e=>{"controllers"===e.blueprint_category&&e.blueprint_variant&&t.add(e.blueprint_variant)}),Array.from(t).sort()},[V]),lt=(0,o.useMemo)(()=>O.map(t=>({name:t.blueprint_category,category:t.blueprint_category,value:t.total,total:t.total,label:t.blueprint_category})),[O]),it=(0,o.useMemo)(()=>{const t=V.filter(t=>"ALL"===$||t.blueprint_category===$);if("controllers"===$){if("ALL"===M){const e=new Map;return t.forEach(t=>{const r=`${t.blueprint_category}::${t.blueprint_id}`,o=e.get(r);o?(o.total+=t.total,t.last_downloaded&&(!o.last_downloaded||t.last_downloaded>o.last_downloaded)&&(o.last_downloaded=t.last_downloaded)):e.set(r,{blueprint_category:t.blueprint_category,blueprint_id:t.blueprint_id,blueprint_variant:"All Variants",total:t.total,last_downloaded:t.last_downloaded})}),Array.from(e.values())}return t.filter(t=>t.blueprint_variant===M).map(t=>({blueprint_category:t.blueprint_category,blueprint_id:t.blueprint_id,blueprint_variant:t.blueprint_variant,total:t.total,last_downloaded:t.last_downloaded}))}return t.map(t=>({blueprint_category:t.blueprint_category,blueprint_id:t.blueprint_id,blueprint_variant:t.blueprint_variant,total:t.total,last_downloaded:t.last_downloaded}))},[V,$,M]),st=(0,o.useMemo)(()=>{const t=[...it];return t.sort((t,e)=>{let r=0;const o=K.key;if("total"===o)r=t.total-e.total;else if("id"===o)r=t.blueprint_id.localeCompare(e.blueprint_id);else if("category"===o)r=t.blueprint_category.localeCompare(e.blueprint_category);else if("variant"===o){const o=t.blueprint_variant??"",a=e.blueprint_variant??"";r=o.localeCompare(a)}else if("lastDownloaded"===o){r=(t.last_downloaded?new Date(t.last_downloaded).getTime():0)-(e.last_downloaded?new Date(e.last_downloaded).getTime():0)}return"asc"===K.direction?r:-r}),t},[it,K]),dt=(0,o.useMemo)(()=>st.slice(0,P).map(t=>({id:t.blueprint_id,name:t.blueprint_id.length>40?`${t.blueprint_id.substring(0,37)}...`:t.blueprint_id,Downloads:t.total})),[st,P]),ct=(0,o.useCallback)(()=>{if("undefined"==typeof window)return!1;const t=window?.env||{};return Boolean(t.SUPABASE_URL&&t.SUPABASE_ANON_KEY)},[]);return(0,o.useEffect)(()=>{if("undefined"!=typeof window){if(!ct()){const t=[{blueprint_category:"controllers",blueprint_id:"mock-ikea_e2001_e2002",blueprint_variant:"EPMatt",total:1e4,last_downloaded:"2025-11-19T10:30:00Z"},{blueprint_category:"controllers",blueprint_id:"mock-ikea_e2001_e2002",blueprint_variant:"yarafie",total:5e3,last_downloaded:"2025-11-21T10:30:00Z"},{blueprint_category:"hooks",blueprint_id:"mock-light",blueprint_variant:"EPMatt",total:5e3,last_downloaded:"2025-11-18T10:30:00Z"},{blueprint_category:"automations",blueprint_id:"mock-addon_update_notification",blueprint_variant:"EPMatt",total:250,last_downloaded:"2025-11-22T10:30:00Z"}],r=t.reduce((t,e)=>t+e.total,0),o=new Map;t.forEach(t=>{o.set(t.blueprint_category,(o.get(t.blueprint_category)??0)+t.total)});const a=Array.from(o.entries()).map(([t,e])=>({blueprint_category:t,total:e}));return e(e=>({...e,totalDownloads:r,byCategory:a,aggregates:t})),D("Supabase variables missing. Showing mock aggregate data instead."),void w(!1)}(async()=>{try{const t=await(async(t={})=>{const e=v();if(!e)return console.error("[Supabase] getDownloadAggregates: client not initialized"),[];const{category:r=null,id:o=null,variant:a=null}=t;try{const{data:t,error:n}=await e.rpc("get_download_aggregates",{p_category:r,p_variant:a,p_id:o});return n?(console.error("[Supabase] Error in getDownloadAggregates RPC:",n),[]):(t||[]).map(t=>({blueprint_category:t.blueprint_category,blueprint_id:t.blueprint_id,blueprint_variant:t.blueprint_variant??null,total:Number(t.total_downloads??0),last_downloaded:t.last_downloaded?new Date(t.last_downloaded).toISOString():null}))}catch(S){return console.error("[Supabase] Exception in getDownloadAggregates:",S),[]}})({}),r=t.reduce((t,e)=>t+e.total,0),o=new Map;t.forEach(t=>{o.set(t.blueprint_category,(o.get(t.blueprint_category)??0)+t.total)});const a=Array.from(o.entries()).map(([t,e])=>({blueprint_category:t,total:e}));e(e=>({...e,totalDownloads:r,byCategory:a,aggregates:t})),D(void 0)}catch(t){D(`Failed to load aggregate metrics: ${t?.message||"Unknown error."}`)}finally{w(!1)}})()}},[ct]),(0,o.useEffect)(()=>{if(r)return;if("undefined"==typeof window)return;if(!ct()){const t=[{day:new Date(Date.now()-864e6).toISOString().substring(0,10),total:10},{day:new Date(Date.now()-432e6).toISOString().substring(0,10),total:20},{day:(new Date).toISOString().substring(0,10),total:22}],r=L(t,B);return e(t=>({...t,daily:r})),void j(!1)}j(!0);const t="ALL"===$?null:$,o="controllers"===t&&"ALL"!==M?M:null;(async()=>{try{const r=await(async t=>{const e=v();if(!e)return console.error("[Supabase] getDailyDownloadSeries: client not initialized"),[];const{days:r,category:o=null,id:a=null,variant:n=null}=t;try{const{data:t,error:l}=await e.rpc("get_daily_downloads_metrics",{p_days:r,p_category:o,p_variant:n,p_id:a});return l?(console.error("[Supabase] Error in getDailyDownloadSeries RPC:",l),[]):(t||[]).map(t=>({day:t.day,total:Number(t.total??0)}))}catch(S){return console.error("[Supabase] Exception in getDailyDownloadSeries:",S),[]}})({days:B,category:t,id:null,variant:o,version:null}),a=L(r,B);e(t=>({...t,daily:a}))}catch(r){D(`Failed to load daily metrics: ${r?.message||"Unknown error."}`)}finally{j(!1)}})()},[ct,r,B,$,M]),(0,C.jsx)(a.A,{title:"Blueprint Download Metrics",description:"Enhanced metrics dashboard with variant-aware analytics",children:(0,C.jsxs)("main",{className:"container margin-vert--lg",style:{backgroundColor:Y.bg,transition:"background-color 0.3s ease",minHeight:"100vh",padding:"2rem"},children:[(0,C.jsx)("h1",{style:{textAlign:"center",marginBottom:"32px",fontSize:"2rem",fontWeight:"bold",color:Y.textPrimary},children:"Blueprint Metrics Dashboard"}),r&&(0,C.jsx)("div",{style:{textAlign:"center",color:Y.textPrimary},children:"Loading core metrics..."}),!r&&S&&(0,C.jsxs)("div",{className:"alert alert--danger",role:"alert",children:[(0,C.jsx)("h4",{className:"alert__heading",children:"Metrics Notice"}),(0,C.jsx)("p",{children:S})]}),!r&&(0,C.jsxs)("div",{style:{width:"100%"},children:[(0,C.jsxs)("section",{style:H,children:[(0,C.jsxs)("div",{style:q,children:[(0,C.jsx)("div",{style:Q(Y.accentColor),children:"Total Downloads"}),(0,C.jsx)("div",{style:{padding:"24px",textAlign:"center"},children:(0,C.jsx)("p",{style:{fontSize:"2.5rem",fontWeight:"900",color:Y.accentColor,margin:0},children:k(F)})})]}),(0,C.jsxs)("div",{style:q,children:[(0,C.jsx)("div",{style:Q("#9333ea"),children:"Tracked Blueprints (rows)"}),(0,C.jsx)("div",{style:{padding:"24px",textAlign:"center"},children:(0,C.jsx)("p",{style:{fontSize:"2.5rem",fontWeight:"900",color:"#9333ea",margin:0},children:k(V.length)})})]})]}),(0,C.jsxs)("section",{style:G,children:[(0,C.jsxs)("div",{style:q,children:[(0,C.jsxs)("h3",{style:X,children:["Daily Downloads (Last ",B," Days)"]}),(0,C.jsx)(et,{current:B,onSelect:T,isDailyLoading:_}),(0,C.jsxs)("div",{style:{height:"350px",padding:"10px",position:"relative"},children:[_&&(0,C.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:W?"rgba(36, 37, 38, 0.8)":"rgba(255, 255, 255, 0.8)",zIndex:10,borderRadius:"4px",color:Y.textPrimary,fontSize:"1.2rem",fontWeight:"bold"},children:"Updating chart..."}),(0,C.jsx)(n.u,{width:"100%",height:"100%",children:(0,C.jsxs)(l.Q,{data:Z,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,C.jsx)("defs",{children:(0,C.jsxs)("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,C.jsx)("stop",{offset:"5%",stopColor:Y.accentColor,stopOpacity:.8}),(0,C.jsx)("stop",{offset:"95%",stopColor:Y.accentColor,stopOpacity:0})]})}),(0,C.jsx)(i.d,{strokeDasharray:"3 3",stroke:Y.gridLine,vertical:!1}),(0,C.jsx)(s.W,{dataKey:"label",stroke:Y.textSecondary,tick:{fontSize:10,fill:Y.textSecondary}}),(0,C.jsx)(d.h,{allowDecimals:!1,stroke:Y.textSecondary,tick:{fontSize:10,fill:Y.textSecondary},tickFormatter:k}),(0,C.jsx)(c.m,{content:(0,C.jsx)(J,{})}),(0,C.jsx)(p.Gk,{type:"monotone",dataKey:"total",stroke:Y.accentColor,strokeWidth:3,fill:"url(#colorTotal)"})]})})]})]}),(0,C.jsxs)("div",{style:q,children:[(0,C.jsx)("h3",{style:X,children:"Category Distribution (Click to filter)"}),(0,C.jsx)("div",{style:{height:"350px",padding:"10px"},children:(0,C.jsx)(n.u,{width:"100%",height:"100%",children:(0,C.jsxs)(x.r,{children:[(0,C.jsx)(g.Fq,{data:lt,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:3,fill:"#8884d8",labelLine:!1,label:({percent:t})=>`${(100*t).toFixed(0)}%`,onClick:t=>{const e=t?.category;e&&(E(t=>t===e?"ALL":e),"controllers"!==e&&U("ALL"))},style:{cursor:"pointer"},children:lt.map((t,e)=>(0,C.jsx)(u.f,{fill:I(t.category),stroke:W?"#242526":"#fff",opacity:"ALL"===$||$===t.category?1:.4},`cell-${e}`))}),(0,C.jsx)(c.m,{content:(0,C.jsx)(J,{})}),(0,C.jsx)(y.s,{iconType:"circle",wrapperStyle:{fontSize:"12px",color:Y.textPrimary}})]})})})]})]}),(0,C.jsxs)("section",{style:{...q,paddingBottom:"20px",marginBottom:"32px"},children:[(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:`1px solid ${Y.gridLine}`,flexWrap:"wrap",gap:"8px"},children:[(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[(0,C.jsx)("h3",{style:{...X,borderBottom:"none",paddingLeft:0,margin:0},children:"ALL"===$?`Top ${P} Blueprints (All Categories)`:"controllers"===$&&"ALL"!==M?`Top ${P} Controller Blueprints (${M})`:`Top ${P} ${$.charAt(0).toUpperCase()+$.slice(1)} Blueprints`}),"controllers"===$&&nt.length>0&&(0,C.jsxs)("div",{style:{margin:"8px 0 8px 0"},children:[(0,C.jsx)("label",{style:{fontSize:"0.85rem",marginRight:"8px",color:Y.textSecondary},children:"Variant:"}),(0,C.jsxs)("select",{value:M,onChange:t=>U(t.target.value),style:{padding:"4px 8px",fontSize:"0.85rem",borderRadius:"4px",border:`1px solid ${Y.gridLine}`,background:"var(--ifm-navbar-background-color)",color:"var(--ifm-font-color-base)"},children:[(0,C.jsx)("option",{value:"ALL",children:"All Variants"}),nt.map(t=>(0,C.jsx)("option",{value:t,children:t},t))]})]})]}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,C.jsxs)("div",{style:{position:"relative"},children:[(0,C.jsx)("select",{value:P,onChange:t=>z(Number(t.target.value)),style:{appearance:"none",padding:"6px 32px 6px 10px",fontSize:"14px",cursor:"pointer",backgroundColor:"var(--ifm-navbar-background-color)",color:"var(--ifm-font-color-base)",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px"},children:[5,10,15,20,25,30,40,50].map(t=>(0,C.jsxs)("option",{value:t,children:["Top ",t]},t))}),(0,C.jsx)("svg",{style:{position:"absolute",right:"10px",top:"50%",width:"14px",height:"14px",transform:"translateY(-50%)",opacity:.7,pointerEvents:"none"},viewBox:"0 0 24 24",children:(0,C.jsx)("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),("ALL"!==$||"controllers"===$&&"ALL"!==M)&&(0,C.jsx)("button",{onClick:()=>{E("ALL"),U("ALL")},style:{fontSize:"12px",padding:"6px 10px",borderRadius:"4px",backgroundColor:"#ef4444",color:"white",border:"none",cursor:"pointer",fontWeight:"bold",transition:"background-color 0.2s",whiteSpace:"nowrap"},title:"Clear category/variant filters",children:"Clear Filters"})]})]}),(0,C.jsx)("div",{style:{height:Math.max(400,40*dt.length)},children:dt.length>0?(0,C.jsx)(n.u,{width:"100%",height:"100%",children:(0,C.jsxs)(h.E,{data:dt,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[(0,C.jsx)(i.d,{strokeDasharray:"3 3",horizontal:!1,stroke:Y.gridLine}),(0,C.jsx)(s.W,{type:"number",stroke:Y.textSecondary,tick:{fontSize:10,fill:Y.textSecondary},tickFormatter:k,domain:[0,"auto"],allowDecimals:!1}),(0,C.jsx)(d.h,{dataKey:"name",type:"category",width:100,tickLine:!1,axisLine:!1,tick:(0,C.jsx)(tt,{})}),(0,C.jsx)(c.m,{content:(0,C.jsx)(J,{})}),(0,C.jsx)(y.s,{iconType:"circle",wrapperStyle:{fontSize:"12px",color:Y.textPrimary}}),(0,C.jsx)(b.yP,{dataKey:"Downloads",name:"# of Downloads",fill:I("controllers"===$&&"ALL"!==M?M:"ALL"===$?"top-all":$),barSize:20,radius:[0,4,4,0]})]})}):(0,C.jsx)("p",{style:{textAlign:"center",padding:"50px",color:Y.textSecondary},children:"No top blueprints found for the current selection."})})]}),(0,C.jsx)("section",{style:{...q,overflow:"visible"},children:(0,C.jsx)(at,{data:st})})]})]})})}}}]);