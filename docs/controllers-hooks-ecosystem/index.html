<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-controllers-hooks-ecosystem" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Controllers-Hooks Ecosystem | Awesome HA Library</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://yarafie.github.io/awesome-ha-blueprints/docs/controllers-hooks-ecosystem"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Controllers-Hooks Ecosystem | Awesome HA Library"><meta data-rh="true" name="description" content="&lt;img"><meta data-rh="true" property="og:description" content="&lt;img"><link data-rh="true" rel="icon" href="/awesome-ha-blueprints/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yarafie.github.io/awesome-ha-blueprints/docs/controllers-hooks-ecosystem"><link data-rh="true" rel="alternate" href="https://yarafie.github.io/awesome-ha-blueprints/docs/controllers-hooks-ecosystem" hreflang="en"><link data-rh="true" rel="alternate" href="https://yarafie.github.io/awesome-ha-blueprints/docs/controllers-hooks-ecosystem" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Controllers-Hooks Ecosystem","item":"https://yarafie.github.io/awesome-ha-blueprints/docs/controllers-hooks-ecosystem"}]}</script><script>window.env={SUPABASE_URL:"https://tfdjyacvrbiybtazjwhk.supabase.co",SUPABASE_ANON_KEY:"sb_publishable_lOI_pDjsraEzfZ6lIM1BbQ_ptxKbBnl",LIBRARY_MAINTAINERS:"yarafie",ALLOWED_MAINTAINERS:["yarafie"]}</script><link rel="stylesheet" href="/awesome-ha-blueprints/assets/css/styles.3645db35.css">
<script src="/awesome-ha-blueprints/assets/js/runtime~main.8ff3a8e6.js" defer="defer"></script>
<script src="/awesome-ha-blueprints/assets/js/main.a77258c5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/awesome-ha-blueprints/img/logo.svg"><link rel="preload" as="image" href="/awesome-ha-blueprints/img/awesome-ha-blueprints-library.png"><link rel="preload" as="image" href="/awesome-ha-blueprints/img/metrics.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_SZKn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_Hx2V" style="background-color:#fffbd4;color:#091E42" role="banner"><div class="announcementBarPlaceholder_aBHa"></div><div class="content_zFoY announcementBarContent_TfoU">ðŸš€ <b>Love this project?</b> <a target="_blank" href="https://github.com/yarafie/awesome-ha-blueprints">Drop a star on GitHub</a>ðŸŒŸ or <a target="_blank" href="https://www.buymeacoffee.com/yarafiet">make a small donation</a>â˜• to show your support!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_uIBU announcementBarClose_iGmN"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/awesome-ha-blueprints/"><div class="navbar__logo"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Library Logo" class="themedComponent_cTri themedComponent--light_TKVi"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Library Logo" class="themedComponent_cTri themedComponent--dark_SYJk"></div><b class="navbar__title text--truncate">Awesome HA Library</b></a><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/docs/introduction/">Getting Started</a><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/docs/blueprints/">Blueprints</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/help">Help</a><a href="https://www.buymeacoffee.com/yarafiet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Z8US"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/yarafie/awesome-ha-blueprints/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Z8US"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_FGP2 colorModeToggle_KVmG"><button class="clean-btn toggleButton_GMel toggleButtonDisabled_wbPe" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_JSeG lightToggleIcon_s70S"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_JSeG darkToggleIcon_q0FH"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_JSeG systemToggleIcon_VW3H"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_JmwV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_oMjM"><div class="docsWrapper_UMlk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_BAOb" type="button"></button><div class="docRoot_THYd"><aside class="theme-doc-sidebar-container docSidebarContainer_H1qq"><div class="sidebarViewport_k2uA"><div class="sidebar_JWm2"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_ZQir menuWithAnnouncementBar_K8Yy"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/awesome-ha-blueprints/docs/introduction"><span title="Getting Started" class="categoryLinkLabel_JRql">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/awesome-ha-blueprints/docs/introduction"><span title="Introduction" class="linkLabel_P901">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/awesome-ha-blueprints/docs/importing-a-blueprint"><span title="Importing a Blueprint" class="linkLabel_P901">Importing a Blueprint</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/awesome-ha-blueprints/docs/controllers-hooks-ecosystem"><span title="Controllers-Hooks Ecosystem" class="linkLabel_P901">Controllers-Hooks Ecosystem</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/awesome-ha-blueprints/docs/contributing"><span title="Contributing" class="linkLabel_P901">Contributing</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/awesome-ha-blueprints/docs/blueprints"><span title="Blueprints" class="categoryLinkLabel_JRql">Blueprints</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_bKGx"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_pCMQ"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_SsdW"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_FZ0Z"><div class="docItemContainer_rmlx"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_vUay" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/awesome-ha-blueprints/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_X05m"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Controllers-Hooks Ecosystem</span></li></ul></nav><div class="tocCollapsible_FvtO theme-doc-toc-mobile tocMobile_VLZk"><button type="button" class="clean-btn tocCollapsibleButton_J0_X">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Controllers-Hooks Ecosystem</h1></header><img src="/awesome-ha-blueprints/img/awesome-ha-blueprints-library.png" width="28" style="vertical-align:middle">
<p><strong>Awesome HA Library 1.0</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">â€‹</a></h2>
<p>The Controllers-Hooks ecosystem includes a set of blueprints which allow you to easily create controller-based automations in just a few clicks. As the name implies, it consists of two main blueprint categories: Controllers and Hooks.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="controllers">Controllers<a href="#controllers" class="hash-link" aria-label="Direct link to Controllers" title="Direct link to Controllers" translate="no">â€‹</a></h2>
<p><strong>Controllers</strong> are blueprints which allow you to easily integrate a wide range of controllers (wall switches, remotes, dimmers, etc.) and use them to run a set of actions when interacting with them. They consist in a practical abstraction layer for building controller-based automations without worrying about the handling of RAW controller events and the integration used to connect controllers to Home Assistant (Zigbee2MQTT, ZHA, deCONZ, ZWave, Shelly, proprietary hubs, etc.).</p>
<div class="theme-admonition theme-admonition-info admonition_BMXJ alert alert--info"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_tn6v"><p>The type of exposed events depends on the controller model. Some controllers can also expose virtual events. You can read more about them <a href="#virtual-events" class="">here</a>.</p></div></div>
<p>Most importantly, besides providing custom action sequences to Controller blueprints, you can connect Controllers with <a href="#hooks" class="">Hooks</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="helper---last-controller-event-input">Helper - Last Controller Event Input<a href="#helper---last-controller-event-input" class="hash-link" aria-label="Direct link to Helper - Last Controller Event Input" title="Direct link to Helper - Last Controller Event Input" translate="no">â€‹</a></h3>
<p>The <code>helper_last_controller_event</code> (Helper - Last Controller Event) input is a generic <code>input_text</code> entity which serves as a permanent storage area for a Controller automation. Currently the following information is stored:</p>
<ul>
<li class=""><strong>Last Controller event</strong>: the latest event which was fired by the controller.</li>
<li class=""><strong>Last triggered time</strong>: the date/time the latest controller event was fired.</li>
</ul>
<p>The stored info is used in many different ways to implement the blueprint&#x27;s core functionality:</p>
<ul>
<li class=""><strong>Action Recognition</strong>: Some controllers use the info contained in the helper to recognize some actions. This varies between different controller models and integrations. Since natively the device doesn&#x27;t allow to distinguish between certain events, the blueprint needs to store the last event, and take advantage of this information to identify subsequent actions.</li>
<li class=""><strong>Virtual Events</strong>: The last controller event is used to implement virtual events. You can read more about them <a href="#virtual-events" class="">here</a>.</li>
</ul>
<p>This field requires that you have an existing text helper. Therefore, before setting up the automation, manually create a brand new <code>input_text</code> entity in your Home Assistant instance (e.g. from <a href="https://my.home-assistant.io/redirect/helpers/" target="_blank" rel="noopener noreferrer" class="">the Helpers configuration page</a>), then provide it to the blueprint while configuring the automation.</p>
<div class="theme-admonition theme-admonition-caution admonition_BMXJ alert alert--warning"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_tn6v"><p>Make sure the text input is not altered by any other agents. The provided entity is used as a permanent storage area for the controller automation; any change to its state not carried out by the respective automation could lead to inconsistencies and unexpected behaviour.</p><p>Therefore, you should create <strong>a separate text input for each Controller blueprint</strong> you&#x27;re configuring.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="virtual-events">Virtual Events<a href="#virtual-events" class="hash-link" aria-label="Direct link to Virtual Events" title="Direct link to Virtual Events" translate="no">â€‹</a></h3>
<p>Virtual events are particular events which are not natively exposed by the controller itself. They&#x27;re instead generated by the blueprint, which derives them from the incoming RAW controller events and by using the <code>helper_last_controller_event</code> input and additional helpers.</p>
<p>Controllers, depending on the device model and functionality, currently support the following virtual events:</p>
<ul>
<li class="">
<p><strong>Virtual button double press</strong>:</p>
<p>Implemented by relying on the <code>helper_last_controller_event</code> input, used to store the last short press event, and a delay (specified with the <code>helper_double_press_delay</code> input), which represents the maximum time gap between the first and second short press required to trigger the virtual double press.</p>
<p>When double press events are enabled for a specific button, clicking the button results in the automation first waiting for the second button press, then, if none is received within the provided delay, executing the short press action.</p>
<p>If double press events are disabled for a specific button, the corresponding single press action will be executed immediately when the button is pressed.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_BMXJ alert alert--success"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_tn6v"><p>Such events can introduce some delay in the automation, therefore they can be disabled when not needed, thanks to a dedicated blueprint input.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="hooks">Hooks<a href="#hooks" class="hash-link" aria-label="Direct link to Hooks" title="Direct link to Hooks" translate="no">â€‹</a></h2>
<p><strong>Hooks</strong> are blueprints which seamlessly integrate with <a href="#controllers" class="">Controllers</a> to enable control of lights, media players, covers and much more, without you ever writing a single line of code.</p>
<p>While Controllers are responsible for integrating the hardware and exposing an abstract interface to the user, Hooks can, as the name suggests, link to this interface and listen for events fired by a Controller. With the received events, Hooks take care of providing the actual control functionality for common use cases (e.g. controlling a Media Player).</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="how-to-build-a-controller-based-automation">How to build a controller-based automation<a href="#how-to-build-a-controller-based-automation" class="hash-link" aria-label="Direct link to How to build a controller-based automation" title="Direct link to How to build a controller-based automation" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="basic-usage-controller-with-custom-actions">Basic Usage: Controller with custom actions<a href="#basic-usage-controller-with-custom-actions" class="hash-link" aria-label="Direct link to Basic Usage: Controller with custom actions" title="Direct link to Basic Usage: Controller with custom actions" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Basic Usage: Controller with custom actions" src="/awesome-ha-blueprints/assets/images/awesome-ha-blueprints-04-c5b0817510f4c235c1799a64482ed849.svg" width="1512" height="1134" class="img_Y2gD"></p>
<p>The simplest use case for such blueprints consists in creating an entirely custom controller-based automation, which can be done by using only a Controller blueprint.</p>
<p>When setting up an automation with a Controller blueprint, you may be asked to select the integration used to connect the controller to Home Assistant, and the <code>device</code> (depending on the integration) representing the Controller. You can then specify a sequence of actions for each of the events the controller exposes.</p>
<p>Each time an event is fired by the controller (e.g. button press) the automation will run the provided custom action corresponding to that specific event.</p>
<div class="theme-admonition theme-admonition-tip admonition_BMXJ alert alert--success"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_tn6v"><p>Even in this simple scenario, you can still benefit from most of the features of the ecosystem: the blueprint will take care of handling the RAW events fired by the controller, as well as providing virtual events (e.g. double clicks) not natively exposed by the controller.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="controller-and-hook">Controller and Hook<a href="#controller-and-hook" class="hash-link" aria-label="Direct link to Controller and Hook" title="Direct link to Controller and Hook" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Controller and Hook" src="/awesome-ha-blueprints/assets/images/awesome-ha-blueprints-01-ad3cf5c209ab4b8b8f8eeada431fa2ec.svg" width="1134" height="1134" class="img_Y2gD"></p>
<p>If you want to build a controller-based automation with Hooks, first create an automation with a Controller blueprint. You can then build an automation with the desired Hook blueprint, <strong>making sure that you provide the same controller <code>device</code> used in the corresponding Controller blueprint</strong>. This key step will link the two automations and ensure the Hook will respond to events fired by the Controller.</p>
<div class="theme-admonition theme-admonition-info admonition_BMXJ alert alert--info"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_tn6v"><p>Please note that not all controllers might be used with each of the available Hooks. Check out the Hook documentation for the list of supported controllers for that specific Hook.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="controller-and-hook--custom-actions">Controller and Hook + Custom actions<a href="#controller-and-hook--custom-actions" class="hash-link" aria-label="Direct link to Controller and Hook + Custom actions" title="Direct link to Controller and Hook + Custom actions" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Controller and Hook + Custom actions" src="/awesome-ha-blueprints/assets/images/awesome-ha-blueprints-03-c4a51232a4987094ff39f2762dad17f5.svg" width="1512" height="1134" class="img_Y2gD"></p>
<p>If you need to customize certain actions or extend a Hook functionality, you can also provide custom actions to the Controller blueprint, which will be run when a certain event is raised.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="controller-with-multiple-hooks">Controller with multiple Hooks<a href="#controller-with-multiple-hooks" class="hash-link" aria-label="Direct link to Controller with multiple Hooks" title="Direct link to Controller with multiple Hooks" translate="no">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Controller with multiple Hooks" src="/awesome-ha-blueprints/assets/images/awesome-ha-blueprints-05-e7fe5786c03c1b4fcd7965edcf353e72.svg" width="1890" height="945" class="img_Y2gD"></p>
<p>For more flexibility, you can link multiple Hooks to the same Controller: just create a Controller automation, then build as many Hook automations as needed.</p>
<p>This might be useful when you&#x27;d like to control multiple devices with the same controller (e.g. multiple media players or lights) without relying on Home Assistant groups.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="control-a-media-player-with-an-ikea-e1743">Control a media player with an IKEA E1743<a href="#control-a-media-player-with-an-ikea-e1743" class="hash-link" aria-label="Direct link to Control a media player with an IKEA E1743" title="Direct link to Control a media player with an IKEA E1743" translate="no">â€‹</a></h3>
<div class="language-yaml codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-yaml codeBlock_H7Li thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Controller automation: integrate the IKEA E1743</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alias</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Controller </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> IKEA E1743 Kitchen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">use_blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EPMatt/ikea_e1743.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">input</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">integration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Zigbee2MQTT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_device</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1743 Kitchen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">helper_last_controller_event</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_text.ikea_e1743_helper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">button_up_double_press</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">button_down_double_press</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Hook automation: Link the media player with the Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alias</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Hook </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Control Kitchen Media Player with E1743</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">use_blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EPMatt/media_player.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">input</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Provide the same value used in the Controller automation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># This ensures this automation will catch events fired by the E1743</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_device</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1743 Kitchen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1743 On/Off Switch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">media_player</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> media_player.kitchen</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="light-control-with-an-ikea-e1810--activate-scene-with-double-click">Light control with an IKEA E1810 + activate scene with double click<a href="#light-control-with-an-ikea-e1810--activate-scene-with-double-click" class="hash-link" aria-label="Direct link to Light control with an IKEA E1810 + activate scene with double click" title="Direct link to Light control with an IKEA E1810 + activate scene with double click" translate="no">â€‹</a></h3>
<div class="language-yaml codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-yaml codeBlock_H7Li thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Controller automation: integrate the IKEA E1810</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alias</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Controller </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> IKEA E1810 Living Room</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">use_blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EPMatt/ikea_e1524_e1810.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">input</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">integration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Zigbee2MQTT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_device</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1810 Living Room</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Example of custom action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># activate a scene when double clicking the center button</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">action_button_center_double</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">scene</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scene.cinema_mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Hook automation: link the light with the Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alias</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Hook </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Control living room lights with IKEA E1810</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">use_blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EPMatt/light.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">input</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">light_color_mode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RGB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Provide the same value used in the Controller automation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># This ensures this automation will catch events fired by the E1810</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_device</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1810 Living Room</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">controller_model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IKEA E1524/E1810 5</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Button remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">light</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> light.livingroom_ceiling</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="how-does-it-work">How does it work<a href="#how-does-it-work" class="hash-link" aria-label="Direct link to How does it work" title="Direct link to How does it work" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-note admonition_BMXJ alert alert--secondary"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_tn6v"><p>This section discusses the communication and inner implementation of Controllers and Hooks. You don&#x27;t need to read or know it to properly use these blueprints.</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_BMXJ alert alert--warning"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Note</div><div class="admonitionContent_tn6v"><p>This documentation section is currently under review.</p></div></div>
<p><img decoding="async" loading="lazy" alt="Under the hood" src="/awesome-ha-blueprints/assets/images/awesome-ha-blueprints-02-e123961dd84b35349d592fd337ceb86f.svg" width="1323" height="1134" class="img_Y2gD"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_FCFL"><a href="https://github.com/yarafie/awesome-ha-blueprints/edit/main/website/docs/controllers-hooks-ecosystem.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_KWOs" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_UCO6"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/awesome-ha-blueprints/docs/importing-a-blueprint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Importing a Blueprint</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/awesome-ha-blueprints/docs/contributing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_H4nj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#controllers" class="table-of-contents__link toc-highlight">Controllers</a><ul><li><a href="#helper---last-controller-event-input" class="table-of-contents__link toc-highlight">Helper - Last Controller Event Input</a></li><li><a href="#virtual-events" class="table-of-contents__link toc-highlight">Virtual Events</a></li></ul></li><li><a href="#hooks" class="table-of-contents__link toc-highlight">Hooks</a></li><li><a href="#how-to-build-a-controller-based-automation" class="table-of-contents__link toc-highlight">How to build a controller-based automation</a><ul><li><a href="#basic-usage-controller-with-custom-actions" class="table-of-contents__link toc-highlight">Basic Usage: Controller with custom actions</a></li><li><a href="#controller-and-hook" class="table-of-contents__link toc-highlight">Controller and Hook</a></li><li><a href="#controller-and-hook--custom-actions" class="table-of-contents__link toc-highlight">Controller and Hook + Custom actions</a></li><li><a href="#controller-with-multiple-hooks" class="table-of-contents__link toc-highlight">Controller with multiple Hooks</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#control-a-media-player-with-an-ikea-e1743" class="table-of-contents__link toc-highlight">Control a media player with an IKEA E1743</a></li><li><a href="#light-control-with-an-ikea-e1810--activate-scene-with-double-click" class="table-of-contents__link toc-highlight">Light control with an IKEA E1810 + activate scene with double click</a></li></ul></li><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_YoXA" href="/awesome-ha-blueprints/metrics/"><img src="/awesome-ha-blueprints/img/metrics.svg" alt="Blueprint Metrics" class="footer__logo themedComponent_cTri themedComponent--light_TKVi" width="38" height="38" style="border-radius:6px;background:var(--ifm-color-primary);box-shadow:0 4px 10px rgba(0,0,0,0.15);padding:6px;cursor:pointer;transition:all 0.2s ease;position:absolute;right:20px;z-index:100"><img src="/awesome-ha-blueprints/img/metrics.svg" alt="Blueprint Metrics" class="footer__logo themedComponent_cTri themedComponent--dark_SYJk" width="38" height="38" style="border-radius:6px;background:var(--ifm-color-primary);box-shadow:0 4px 10px rgba(0,0,0,0.15);padding:6px;cursor:pointer;transition:all 0.2s ease;position:absolute;right:20px;z-index:100"></a></div><div class="footer__copyright">Awesome HA Library is maintained by
         <a href="https://github.com/EPMatt">Matteo Agnoletto</a>.<br>
         This fork is developed and maintained by
         <a href="https://github.com/yarafie">yarafie</a>.<br>
         Licensed under the
         <a href="https://github.com/yarafie/awesome-ha-blueprints/blob/main/LICENSE">
         GPL-3.0 License
         </a></div></div></div></footer></div>
</body>
</html>